{% extends "layout.html" %}
{% block content %}

<div class="container-fluid">
	<div class="row">
		{% for link in links %}
		<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
			<div id="link-{{ link.id }}" class="link {% if link.unread %}unread{% endif %} {% if link.starred %}starred{% endif %}">
				{% if link.embed_type > 0 %}
				<a class="embed-link" data-toggle="modal" data-target="#embed-modal"
						onclick="setUpEmbedPopover({{ link.id }}, {{ link.embed_type }}, '{{ link.embed_url }}', '{{ link.url }}');">
				{% else %}
				<a target="_blank" href="{{ link.url }}">
				{% endif %}
					<p id="title-{{ link.id }}" class="title">{{ link.title }}</p>
					{% if link.image_url %}
					<span class="thumbnail" style="background-image: url('{{ link.image_url }}');"></span>
					{% else %}
						{% if link.embed_type == 2 %}
					<span class="thumbnail image-embed" style="background-image: url('{{ link.embed_url }}');"></span>
						{% else %}
					<span class="thumbnail screenshot" style="background-image: url('{{ link.url | screenshot_url }}');"></span>
						{% endif %}
					{% endif %}

					<div class="meta">
						{% if link.embed_type == 1 %}
						<i class="indicator embed-indicator fa fa-film"></i>
						{% endif %}
						{% if link.embed_type == 2 %}
						<i class="indicator embed-indicator fa fa-image"></i>
						{% endif %}
						{% if link.embed_type == 0 %}
						<i class="indicator unread-indicator fa fa-circle"></i>
						{% endif %}
						{% if link.embed_type == 0 %}
						<i class="indicator starred-indicator fa fa-star"></i>
						{% endif %}
						<p class="domain">{{ link.domain }}</p>
						<time datetime="{{ link.date }}">{{ link.date | timesince }}</time>
						<div class="buttons">
							<a><i class="button fa fa-trash-o"></i></a>
							<a><i class="button fa fa-pencil"></i></a>
							{% if link.starred %}
							<a onclick="toggleStar({{ link.id }});"><i id="star-button-{{ link.id }}" class="button star-button fa fa-star-o"></i></a>
							{% else %}
							<a onclick="toggleStar({{ link.id }});"><i id="star-button-{{ link.id }}" class="button star-button fa fa-star"></i></a>
							{% endif %}
						</div>
					</div>
				</a>
			</div>
		</div>
		{% endfor %}
	</div>
</div>

{% endblock %}
